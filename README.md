# 基于区块链的宠物管理系统

## 项目概述

本项目是一个基于区块链技术的宠物管理系统，旨在利用区块链的去中心化、不可篡改和透明等特性，构建一个可信任的宠物信息管理平台。系统支持宠物信息登记、医疗记录管理、领养市场和救助请求等功能，为宠物主人、医疗机构和救助站提供一个透明、可靠的宠物信息管理解决方案。

## 系统架构

系统采用前后端分离的架构设计：

- **前端**：基于Next.js框架开发的Web应用，集成了RainbowKit和Wagmi库实现区块链钱包连接
- **后端**：基于Solidity智能合约开发的区块链应用，部署在以太坊网络上
- **存储**：使用IPFS（星际文件系统）存储宠物图片等媒体文件

### 智能合约架构

系统核心由三个主要智能合约组成：

1. **UserManager**：负责用户注册、资料管理、角色分配和宠物所有权记录
2. **PetManager**：负责宠物信息登记与更新、健康状态和领养状态管理、领养事件记录、医疗事件记录和救助请求处理
3. **InstitutionManager**：负责机构（宠物医院和动物救助站）的注册、认证和管理

## 核心功能

### 用户管理

- 用户注册与资料管理
- 用户角色分配（普通用户、医院人员、救助站人员、管理员）
- 宠物所有权记录

### 宠物管理

- 宠物信息登记与更新
- 宠物健康状态管理
- 宠物领养状态管理
- 宠物医疗记录管理

### 领养市场

- 发布可领养宠物信息
- 领养申请处理
- 领养事件记录

### 医疗记录

- 宠物医疗事件记录
- 诊断结果和治疗方案记录
- 医疗费用记录
- 医疗附件（检查报告等）管理

### 救助请求

- 发布救助请求
- 救助请求状态更新
- 救助机构响应

### 机构管理

- 宠物医院和动物救助站注册
- 机构认证
- 机构员工管理

## 技术栈

### 前端

- **框架**：Next.js、React
- **UI组件**：Material UI
- **状态管理**：MobX
- **区块链交互**：ethers.js、wagmi、RainbowKit
- **地图服务**：高德地图API

### 智能合约

- **开发语言**：Solidity
- **开发框架**：Hardhat
- **测试工具**：Hardhat Test

### 存储

- **媒体文件存储**：IPFS

## 部署与运行

### 本地开发环境

```bash
# 安装依赖
npm install

# 启动本地区块链节点
npm run hardhat

# 部署智能合约到本地网络
npm run compile:local

# 启动IPFS节点 (主机上需要安装IPFS本地测试节点)
npm run ipfs

# 启动前端开发服务器
npm run dev
```

### 测试网部署

```bash
# 部署智能合约到Sepolia测试网
npm run compile:sepolia

# 构建前端应用
npm run build

# 启动前端服务
npm run start
```

## 系统特点

1. **数据不可篡改**：基于区块链技术，确保宠物信息和医疗记录的真实性和不可篡改性
2. **透明可信**：所有操作公开透明，可追溯
3. **去中心化**：没有中心化的控制机构，数据由网络共同维护
4. **安全可靠**：采用密码学技术保障数据安全
5. **跨平台兼容**：支持多种设备访问

## 未来展望

1. 引入AI技术辅助宠物健康状况分析
2. 开发移动端应用，提升用户体验
3. 扩展更多宠物服务功能，如宠物保险、宠物寄养等
4. 构建宠物社区，促进宠物主人之间的交流
5. 接入更多第三方服务，如宠物用品商城等
